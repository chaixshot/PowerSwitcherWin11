<ui:FluentWindow
    x:Class="PowerSwitcher.TrayApp.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:ext="clr-namespace:PowerSwitcher.TrayApp.Extensions"
    xmlns:local="clr-namespace:PowerSwitcher.TrayApp"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    xmlns:viewModels="clr-namespace:PowerSwitcher.TrayApp.ViewModels"
    x:Name="SchemasWindow"
    Title="Power switcher"
    Width="360"
    MinWidth="0"
    MinHeight="0"
    Background="Transparent"
    Deactivated="Window_Deactivated"
    ExtendsContentIntoTitleBar="True"
    PreviewKeyDown="Window_PreviewKeyDown"
    RenderOptions.ClearTypeHint="Enabled"
    ResizeMode="NoResize"
    ShowInTaskbar="False"
    SnapsToDevicePixels="True"
    TextOptions.TextFormattingMode="Ideal"
    TextOptions.TextRenderingMode="ClearType"
    Topmost="True"
    WindowBackdropType="Mica"
    WindowStyle="None"
    mc:Ignorable="d">
    <ui:FluentWindow.DataContext>
        <viewModels:MainWindowViewModel x:Name="ViewModel" />
    </ui:FluentWindow.DataContext>

    <d:Window.DataContext>
        <viewModels:MainWindowViewModelDesign />
    </d:Window.DataContext>

    <Window.Resources>
        <Style BasedOn="{StaticResource ListViewItemStyle}" TargetType="{x:Type ui:ListViewItem}">
            <Setter Property="FocusVisualStyle">
                <Setter.Value>
                    <x:Null />
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <StackPanel x:Name="MainPanel">
        <ui:TextBlock
            Margin="18,12,0,0"
            FontFamily="Segoe UI Semibold"
            FontSize="14"
            Text="Power Options" />

        <ui:ListView
            x:Name="ElementsList"
            Margin="5,12,5,0"
            Focusable="False"
            IsSynchronizedWithCurrentItem="False"
            ItemsSource="{Binding Schemas}"
            KeyboardNavigation.TabNavigation="Cycle"
            SelectedItem="{Binding ActiveSchema}"
            SelectionMode="Single">
            <ui:ListView.ItemTemplate>
                <DataTemplate>
                    <TextBlock
                        Margin="8,10,8,10"
                        MouseLeftButtonDown="Label_MouseLeftButtonDown"
                        Text="{Binding Name}" />
                </DataTemplate>
            </ui:ListView.ItemTemplate>
        </ui:ListView>

        <ui:Button
            x:Name="OpenPowerOption"
            Padding="11,15,11,15"
            HorizontalAlignment="Stretch"
            HorizontalContentAlignment="Left"
            Click="OpenPowerOption_Click"
            Content="Open power options"
            CornerRadius="0,0,0,0"
            Cursor="Hand"
            FontFamily="Segoe UI"
            Foreground="{ui:ThemeResource TextFillColorSecondaryBrush}" />
    </StackPanel>

</ui:FluentWindow>
